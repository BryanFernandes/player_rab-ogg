# The Trusty beta Build Environment
sudo: yes
dist: trusty

script:
 - set -eo pipefail
 - sudo add-apt-repository --yes ppa:ubuntu-lxc/stable
 - sudo apt-get -qq update
 - sudo apt-get install --yes lxc lxc-templates cgroup-lite redir
 - wget https://releases.hashicorp.com/vagrant/2.1.1/vagrant_2.1.1_x86_64.deb
 - sudo dpkg -i vagrant_2.1.1_x86_64.deb
 - rm vagrant_2.1.1_x86_64.deb
 - vagrant plugin install vagrant-lxc
 - vagrant up
 - vagrant ssh
 - cd Documents/Player
 - qmake "CONFIG+=test" Player.pro #we gonna compile for Unit test first
 - make
 - ./Player #run unit test
 - rm Makefile Player *.o #remove files (which are generated from unit test) for next build
